<p>chip010 â€“ OP_CHECKINPUTVERIFY &amp; OP_CHECKOUTPUTVERIFY</p>

<h2 id="abstract">Abstract</h2>

<p>Introduces two new opcodes: OP_CHECKINPUTVERIFY and OP_CHECKOUTPUTVERIFY (CIV and COV). These outputs pop one argument from the stack, and check its membership in the input or output list of the transaction, respectively.</p>

<h2 id="motivation">Motivation</h2>

<p>Similar to chip005. Allows for functionality upgrade without breaking monotonicity or creating undue verification burden. COV in particular may be used to create covenants.</p>

<h2 id="specification">Specification</h2>

<p>CIV pops 1 input from the stack.
CIV fails script execution if any of the following are true:</p>
<ol>
  <li>The stack is empty (nothing to pop)</li>
  <li>The popped item is not a TXO-identifier (bad format)</li>
  <li>The TXO identified by the popped item is not committed to in the inputs list of the witness.</li>
</ol>

<p>COV pops 1 input from the stack
COV fails script execution if any of the following are true:</p>
<ol>
  <li>The stack is empty (nothing to pop)</li>
  <li>The popped item is not a TXO-identifier (bad format)</li>
  <li>The TXO identified by the popped item is not committed to in the outputs list of the witness.</li>
</ol>
